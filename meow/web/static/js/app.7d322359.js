(function(){"use strict";var a={918:function(a,e,l){var t=l(9242),n=l(3396);const s=(0,n._)("img",{alt:"",src:"https://www.adorable0v0.top/api"},null,-1);function i(a,e,l,t,i,o){const u=(0,n.up)("HomePage");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s,(0,n.Wm)(u)],64)}var o=l(7139);const u=(0,n._)("div",null,[(0,n._)("span",null,"音频设置")],-1),d=(0,n._)("div",null,[(0,n._)("span",null,"对话设置")],-1);function r(a,e,l,t,s,i){const r=(0,n.up)("el-col"),m=(0,n.up)("el-option"),p=(0,n.up)("el-select"),c=(0,n.up)("el-row"),f=(0,n.up)("el-slider"),h=(0,n.up)("el-card"),b=(0,n.up)("el-input"),g=(0,n.up)("el-button"),v=(0,n.up)("el-container");return(0,n.wg)(),(0,n.j4)(v,{class:"main-box"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"row"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"col",span:24,lg:12},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:"box-card"},{header:(0,n.w5)((()=>[u])),default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"p-10"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"select-label",span:24,sm:6},{default:(0,n.w5)((()=>[(0,n.Uk)("音色模型")])),_:1}),(0,n.Wm)(r,{span:24,sm:18},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{onChange:e[0]||(e[0]=a=>i.confChange(3,0)),modelValue:s.selectDataList[0].value,"onUpdate:modelValue":e[1]||(e[1]=a=>s.selectDataList[0].value=a),class:"w-100",placeholder:"Select",size:"large"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.options,(a=>((0,n.wg)(),(0,n.j4)(m,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.audioConfigList,((a,e)=>((0,n.wg)(),(0,n.j4)(c,{key:e,class:"p-10"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"select-label",span:24,sm:6},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.label),1)])),_:2},1024),(0,n.Wm)(r,{span:24,sm:18},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{onChange:a=>i.confChange(0,e),modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,min:a.min,max:a.max,class:"w-100",step:a.step,disabled:a.disabled,"show-stops":"","show-input":""},null,8,["onChange","modelValue","onUpdate:modelValue","min","max","step","disabled"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,n.Wm)(r,{class:"col",span:24,lg:12},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:"box-card"},{header:(0,n.w5)((()=>[d])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.defaultPrompt,((a,e)=>((0,n.wg)(),(0,n.j4)(c,{key:e,class:"p-10"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"select-label",span:24,sm:6},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.label),1)])),_:2},1024),(0,n.Wm)(r,{span:24,sm:18},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{onChange:a=>i.confChange(2,e),modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,autosize:"",type:"textarea",placeholder:"Please input"},null,8,["onChange","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.openaiConfigList,((a,e)=>((0,n.wg)(),(0,n.j4)(c,{key:e,class:"p-10"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"select-label",span:24,sm:6},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.label),1)])),_:2},1024),(0,n.Wm)(r,{span:24,sm:18},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{onChange:a=>i.confChange(1,e),modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,min:a.min,max:a.max,class:"w-100",step:a.step,disabled:a.disabled,"show-stops":"","show-input":""},null,8,["onChange","modelValue","onUpdate:modelValue","min","max","step","disabled"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,n.Wm)(h,{style:{"margin-top":"20px"},class:"box-card"},{header:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n._)("span",null,"状态检测: "+(0,o.zw)(s.status_txt),1)])])),default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"button",type:"danger",disabled:!s.chatStatus,onClick:i.stopChat,plain:""},{default:(0,n.w5)((()=>[(0,n.Uk)("关闭对话")])),_:1},8,["disabled","onClick"]),(0,n.Wm)(g,{class:"button",type:"primary",disabled:s.chatStatus,onClick:i.startChat,plain:""},{default:(0,n.w5)((()=>[(0,n.Uk)("启动对话")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1})])),_:1})}var m=l(4161),p=l(6666),c={data(){return{options:[{value:1,label:"度小宇"},{value:0,label:"度小美"},{value:3,label:"度逍遥（基础）"},{value:4,label:"度丫丫"},{value:5003,label:"度逍遥（精品）"},{value:5118,label:"度小鹿"},{value:106,label:"度博文"},{value:5003,label:"度逍遥（精品）"},{value:110,label:"度小童"},{value:111,label:"度小萌"},{value:103,label:"度米朵"},{value:5,label:"度小娇"}],audioConfigList:[{label:"触发阈值",min:100,max:5e4,value:1e3,step:100,handler:"audio",name:"audio_min_rms",disabled:!1},{label:"次数阈值",min:1,max:20,value:3,handler:"audio",name:"max_high_audio_flag",disabled:!1},{label:"忽略阈值",min:1,max:50,value:10,handler:"audio",name:"max_low_audio_flag",disabled:!1},{label:"音调",min:1,max:10,value:1,handler:"baidu",name:"pit",disabled:!1},{label:"语速",min:1,max:10,value:1,handler:"baidu",name:"spd",disabled:!1},{label:"音量",min:1,max:10,value:1,handler:"baidu",name:"vol",disabled:!1}],defaultPrompt:[{label:"初始对话",value:"",handler:"openai",name:"default_prompt_me",disabled:!1},{label:"初始回应",value:"",handler:"openai",name:"default_prompt_bot",disabled:!1}],openaiConfigList:[{label:"提交最大长度",min:128,max:1024,value:256,handler:"openai",name:"max_prompt_length",disabled:!1},{label:"最大回复长度",min:12,max:256,value:128,handler:"openai",name:"openai_api_params",disabled:!1},{label:"对话温度",min:0,max:1,value:.6,step:.1,handler:"openai",name:"openai_api_params",disabled:!1}],selectDataList:[{value:4,handler:"baidu",name:"per",disabled:!1}],status_txt:"",chatStatus:!1,lastMsg:""}},mounted(){this.initConfig(),this.timer=setInterval(this.get_status,1e3)},beforeUnmount(){clearInterval(this.timer)},methods:{startChat(){m.Z.get("/start_chat").then((a=>{200===a.status&&(0,p.bM)({title:"启动",message:(0,n.h)("i",{style:"color: teal"},"已发送启动命令")})}))},stopChat(){m.Z.get("/stop_chat").then((a=>{200===a.status&&(0,p.bM)({title:"停止",message:(0,n.h)("i",{style:"color: teal"},"已发送停止命令")})}))},get_status(){m.Z.get("/chat_status").then((a=>{if(console.log(a.data),0===a.data["status"]?(this.status_txt="运行",this.chatStatus=!0):(this.status_txt="停止",this.chatStatus=!1),""!==a.data["msg"]){if(a.data["msg"]===this.lastMsg)return;this.lastMsg=a.data["msg"],"你"===a.data["msg"][0]?(0,p.bM)({title:"你说",message:(0,n.h)("i",{style:"color: CornflowerBlue"},a.data["msg"].slice(3))}):"猫"===a.data["msg"][0]&&(0,p.bM)({title:"猫猫说",message:(0,n.h)("i",{style:"color: OliveDrab"},a.data["msg"].slice(4))})}}))},initConfig(){m.Z.get("/get_config").then((a=>{console.log(a.data);let e=a.data,l=e["audio"];this.audioConfigList[0].value=l["audio_min_rms"],this.audioConfigList[1].value=l["max_high_audio_flag"],this.audioConfigList[2].value=l["max_low_audio_flag"];let t=e["baidu"];this.audioConfigList[3].value=t["pit"],this.audioConfigList[4].value=t["spd"],this.audioConfigList[5].value=t["vol"],this.value=t["per"];let n=e["openai"];this.defaultPrompt[0].value=n["default_prompt_me"],this.defaultPrompt[1].value=n["default_prompt_bot"],this.openaiConfigList[0].value=n["max_prompt_length"],this.openaiConfigList[1].value=n["openai_api_params"]["max_tokens"],this.openaiConfigList[2].value=n["openai_api_params"]["temperature"]}))},confChange(a,e){let l=[];l=0===a?this.audioConfigList:1===a?this.openaiConfigList:2===a?this.defaultPrompt:this.selectDataList,l[e].disabled=!0;let t=l[e].handler,n=l[e].name,s=l[e].value;"openai_api_params"===n&&(s={frequency_penalty:.2,model:"text-davinci-003",presence_penalty:1,max_tokens:this.openaiConfigList[1].value,temperature:this.openaiConfigList[2].value,top_p:1}),m.Z.post("/set_config",{handler:t,name:n,value:s}).then((a=>{l[e].disabled=!1,console.log(a.data)}))}}},f=l(89);const h=(0,f.Z)(c,[["render",r]]);var b=h,g={name:"App",components:{HomePage:b}};const v=(0,f.Z)(g,[["render",i]]);var _=v,w=l(332);l(2834);const C=(0,t.ri)(_);C.use(w.Z),C.mount("#app")}},e={};function l(t){var n=e[t];if(void 0!==n)return n.exports;var s=e[t]={exports:{}};return a[t].call(s.exports,s,s.exports,l),s.exports}l.m=a,function(){var a=[];l.O=function(e,t,n,s){if(!t){var i=1/0;for(r=0;r<a.length;r++){t=a[r][0],n=a[r][1],s=a[r][2];for(var o=!0,u=0;u<t.length;u++)(!1&s||i>=s)&&Object.keys(l.O).every((function(a){return l.O[a](t[u])}))?t.splice(u--,1):(o=!1,s<i&&(i=s));if(o){a.splice(r--,1);var d=n();void 0!==d&&(e=d)}}return e}s=s||0;for(var r=a.length;r>0&&a[r-1][2]>s;r--)a[r]=a[r-1];a[r]=[t,n,s]}}(),function(){l.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return l.d(e,{a:e}),e}}(),function(){l.d=function(a,e){for(var t in e)l.o(e,t)&&!l.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){l.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){var a={143:0};l.O.j=function(e){return 0===a[e]};var e=function(e,t){var n,s,i=t[0],o=t[1],u=t[2],d=0;if(i.some((function(e){return 0!==a[e]}))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(u)var r=u(l)}for(e&&e(t);d<i.length;d++)s=i[d],l.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return l.O(r)},t=self["webpackChunkchatmeowui"]=self["webpackChunkchatmeowui"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=l.O(void 0,[998],(function(){return l(918)}));t=l.O(t)})();
//# sourceMappingURL=app.7d322359.js.map